<!DOCTYPE html>
<html>
  <head>
    <title>Peacekeeper</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
  
  
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body>
    <nav class="bg-white shadow" data-controller="nav">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between h-16">
          <div class="flex">
            <div class="-ml-2 mr-2 flex items-center md:hidden">
              <!-- Mobile menu button -->
              <button type="button" 
                class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" 
                aria-controls="mobile-menu" 
                aria-expanded="false"
                data-action="nav#toggle"
              >
                <span class="sr-only">Open main menu</span>
                <!--
                  Icon when menu is closed.

                  Heroicon name: outline/menu

                  Menu open: "hidden", Menu closed: "block"
                -->
                <svg data-nav-target="closedIcon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
                <!--
                  Icon when menu is open.

                  Heroicon name: outline/x

                  Menu open: "block", Menu closed: "hidden"
                -->
                <svg data-nav-target="openIcon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <div class="flex-shrink-0 flex items-center">
              <svg class="h-8 w-auto" fill="#4338CA" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 96 96" x="0px" y="0px">
                <path d="M57.64 96.004c-12.96 0-15.908-8.464-18.056-14.64-0.352-1.012-0.692-1.984-1.048-2.856-10.232-0.372-13.108-5.168-15.66-9.42-2.416-4.024-4.5-7.5-13.528-7.5-0.72 0-1.384-0.384-1.74-1.008-0.356-0.628-0.344-1.404 0.024-2.016 3.936-6.568 7.332-9.492 11.008-9.492 2.62 0 4.72 1.548 6.568 2.912 1.552 1.144 3.012 2.228 4.464 2.228 5.944 0 16.428-10.492 25.676-19.744 10.36-10.36 17.452-18.184 25.252-29.892 0.396-0.592 1.076-0.944 1.784-0.888 0.716 0.044 1.344 0.468 1.664 1.104 5.836 11.668 7.048 31.232-1.92 46.056-4.524 7.476-13.344 16.396-29.872 17.424 1.648 5.6 10.604 6.252 14.672 6.252 6.060 0 11.328 4.12 11.752 9.188 0.172 2.14-0.368 9.312-14.812 11.724-2.22 0.38-4.32 0.568-6.228 0.568z" fill="#4338CA"></path>
                <path d="M16.528 45.312c0.684-0.14 1.384-0.24 2.12-0.24 3.94 0 6.832 2.136 8.94 3.696 0.732 0.54 1.828 1.34 2.252 1.452 3.816-0.008 14.024-9.94 21.028-16.924 1.284-9.976-0.752-20.176-3.824-26.56-2.116-4.408-4.608-6.736-7.208-6.736-0.528 0-1.036 0.212-1.416 0.584-1.464 1.464-2.256 3.856-3.364 7.176-1.936 5.82-4.868 14.608-13.568 23.312-5.316 5.316-5.688 10.5-5.064 13.908 0.024 0.12 0.080 0.216 0.104 0.332z" fill="#4338CA"></path>
              </svg>
            </div>
            <div class="hidden md:ml-6 md:flex md:space-x-8">
              <%= nav_link_to peers_path, "peers" do %>
                Peers
              <% end %>
              <%= nav_link_to marketplace_path, @ad&.peer.present? ? "ads" : "marketplace" do %>
                Marketplace
              <% end %>

              <%= nav_link_to ads_path, @ad&.peer.present? ? "marketplace" : "ads" do %>
                Ads
              <% end %>
            </div>
          </div>
          <h1 class="flex items-center grow text-lg font-medium md:hidden"><%= content_for(:page_title) %></h1>
          <div class="flex items-center">
            <!-- mobile primary CTA -->
            <%= content_for(:mobile_nav_cta) %>
            <div class="hidden md:ml-4 md:flex-shrink-0 md:flex md:items-center">
              <button type="button" class="bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <span class="sr-only">View notifications</span>
                <!-- Heroicon name: outline/bell -->
                <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
                </svg>
              </button>

          
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile menu, show/hide based on menu state. -->
      <div class="hidden md:hidden" data-nav-target="mobileMenu">
        <div class="pt-2 pb-3 space-y-1">
          <!-- Current: "bg-indigo-50 border-indigo-500 text-indigo-700", Default: "border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700" -->
          <%= mobile_nav_link_to peers_path, "peers" do %>
            Peers
          <% end %>
          
          <%= mobile_nav_link_to marketplace_path, @ad&.peer.present? ? "ads" : "marketplace" do %>
            Marketplace
          <% end %>

          <%= mobile_nav_link_to ads_path, @ad&.peer.present? ? "marketplace" : "ads" do %>
            Ads
          <% end %>
        </div>
      </div>
    </nav>

    <main class="px-4 mt-10 flex-col">
      <% if notice.present? %>
        <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
      <% end %>
      <%= yield %>
    </main>
  </body>
</html>
